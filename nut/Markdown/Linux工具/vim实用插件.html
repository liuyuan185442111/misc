<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>vim实用插件</title>
<link rel="stylesheet" href="https://stackedit.io/res-min/themes/base.css" />
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body><div class="container"><p>Windows下的IDE有一些有用的功能，比如sourceinsight里shift-F8高亮符号，ctrl-m查看书签，codeblocks里F11切换源文件和头文件，快捷的代码补全，源文件symbol窗口，这里安装一些插件来使vim实现这些功能，这些插件直接拷贝到.vim/plugin目录就行了。</p>



<h2 id="符号高亮">符号高亮</h2>

<p>mark.vim  <br>
<a href="http://www.vim.org/scripts/script.php?script_id=1238" target="_blank">http://www.vim.org/scripts/script.php?script_id=1238</a></p>

<pre><code>&lt;Leader&gt;m  标记或取消光标所在符号的高亮标记
&lt;Leader&gt;n  如果光标所在处的符号已高亮，清除当前词的高亮，否则清除所有符号的高亮
</code></pre>



<h2 id="标记加强">标记加强</h2>

<p>ShowMarks <br>
<a href="http://www.vim.org/scripts/script.php?script_id=152" target="_blank">http://www.vim.org/scripts/script.php?script_id=152</a></p>

<p>在设定了一个标记后，它就会在你的vim窗口中显示出标记的名字并高亮该行。 <br>
配置：</p>



<pre class="prettyprint"><code class=" hljs bash"><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span>
<span class="hljs-string">" showmarks setting
"</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">"
"</span> Enable ShowMarks
<span class="hljs-built_in">let</span> showmarks_enable = <span class="hljs-number">1</span>
<span class="hljs-string">" Show which marks
let showmarks_include = "</span>abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ<span class="hljs-string">"
"</span> Hilight lower &amp; upper marks
<span class="hljs-built_in">let</span> showmarks_hlline_lower = <span class="hljs-number">1</span>
<span class="hljs-built_in">let</span> showmarks_hlline_upper = <span class="hljs-number">1</span>
<span class="hljs-string">" Ignore help, quickfix, non-modifiable buffers
let showmarks_ignore_type = "</span>hqm<span class="hljs-string">"</span></code></pre>

<p>首先，使能showmarks插件，然后定义showmarks只显示全部的大写和小写标记，并高亮这两种标记，对文件类型为help、quickfix和不可修改的缓冲区，则不显示标记的位置。</p>

<p>ShowMarks已经定义了一些快捷键：</p>



<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">Leader</span>&gt;</span>mt   - 打开/关闭ShowMarks插件
<span class="hljs-tag">&lt;<span class="hljs-title">Leader</span>&gt;</span>mo   - 强制打开ShowMarks插件
<span class="hljs-tag">&lt;<span class="hljs-title">Leader</span>&gt;</span>mh   - 清除当前行的标记
<span class="hljs-tag">&lt;<span class="hljs-title">Leader</span>&gt;</span>ma   - 清除当前缓冲区中所有的标记
<span class="hljs-tag">&lt;<span class="hljs-title">Leader</span>&gt;</span>mm   - 在当前行打一个标记，使用下一个可用的标记名 </code></pre>

<p>Marks Browser : A graphical marks browser <br>
<a href="http://www.vim.org/scripts/script.php?script_id=1706" target="_blank">http://www.vim.org/scripts/script.php?script_id=1706</a></p>

<p>用<code>:MarksBrowser</code>命令打开浏览窗口，回车前往某个标记，按d键删除标记。 <br>
如果要保持标记浏览窗口持续打开，在vimrc中添加：</p>



<pre class="prettyprint"><code class=" hljs bash"><span class="hljs-built_in">let</span> marksCloseWhenSelected = <span class="hljs-number">0</span> 
<span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span>
<span class="hljs-string">" markbrowser setting
"</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">""</span><span class="hljs-string">"
nmap &lt;silent&gt; &lt;leader&gt;mk :MarksBrowser&lt;cr&gt;</span></code></pre>



<h2 id="头文件跳转">头文件跳转</h2>

<p>a.vim <br>
<a href="http://www.vim.org/scripts/script.php?script_id=31" target="_blank">http://www.vim.org/scripts/script.php?script_id=31</a> <br>
在源文件和头文件间进行切换</p>



<pre class="prettyprint"><code class=" hljs ruby"><span class="hljs-symbol">:A</span>  源文件头文件切换
<span class="hljs-symbol">:AS</span> 上下分割窗口后切换
<span class="hljs-symbol">:AV</span> 垂直分割窗口后切换
<span class="hljs-symbol">:AT</span> 新建标签后切换

将光标所在处单词作为文件名打开
<span class="hljs-symbol">:IH</span>  切换至光标所在文件
<span class="hljs-symbol">:IHS</span> 分割窗口后切换至光标所在文件
<span class="hljs-symbol">:IHV</span> 垂直分割窗口后切换
<span class="hljs-symbol">:IHT</span> 新建标签后切换</code></pre>



<h2 id="symbol窗口">symbol窗口</h2>

<p>taglist.vim : Source code browser (supports C/C++, java, perl, python, tcl, sql, php, etc)  <br>
<a href="http://www.vim.org/scripts/script.php?script_id=273" target="_blank">http://www.vim.org/scripts/script.php?script_id=273</a></p>

<p>下载zip文件并解压，将taglist.vim放入plugin目录，taglist.txt放入doc目录，进入doc目录，在vim中执行<code>:helptags</code>命令添加帮助文件。</p>



<pre class="prettyprint"><code class=" hljs bash"><span class="hljs-built_in">let</span> Tlist_Show_One_File = <span class="hljs-number">1</span>         <span class="hljs-string">"不同时显示多个文件的tag，只显示当前文件的
let Tlist_Exit_OnlyWindow = 1       "</span>如果taglist窗口是最后一个窗口，则退出vim
<span class="hljs-built_in">let</span> Tlist_Use_Right_Window = <span class="hljs-number">1</span>      <span class="hljs-string">"在右侧窗口中显示taglist窗口，默认如此</span></code></pre>

<p>在Vim命令行下运行<code>:TlistToggle</code>命令就可以打开Taglist窗口，再次运行<code>:TlistToggle</code>则关闭。</p>

<p>设置Tlist_Sort_Type为”name”可以使taglist以tag名字进行排序，缺省是按tag在文件中出现的顺序进行排序。 <br>
如果想在启动VIM后，自动打开taglist窗口，设置Tlist_Auto_Open为1。 <br>
如果希望在选择了tag后自动关闭taglist窗口，设置Tlist_Close_On_Select为1。 <br>
在使用<code>:TlistToggle</code>打开taglist窗口时，如果希望输入焦点在taglist窗口中，设置Tlist_GainFocus_On_ToggleOpen为1. <br>
Tlist_WinHeight和Tlist_WinWidth可以设置taglist窗口的高度和宽度。Tlist_Use_Horiz_Window为１设置taglist窗口横向显示。</p>

<p>tag窗口中支持以下命令：</p>



<pre class="prettyprint"><code class=" hljs asciidoc">&lt;CR&gt;          跳到光标下tag所定义的位置
p             预览tag定义，但不跳转
o             在一个新打开的窗口中显示光标下tag
&lt;Space&gt;       显示光标下tag的原型定义
u             更新taglist窗口中的tag
s             更改排序方式，在按名字排序和按出现顺序排序间切换
x             taglist窗口放大和缩小，方便查看较长的tag
+             打开一个折叠，同zo
<span class="hljs-bullet">-             </span>将tag折叠起来，同zc
<span class="hljs-bullet">*             </span>打开所有的折叠，同zR
<span class="hljs-header">=             将所有tag折叠起来，同zM</span>
q             关闭taglist窗口
&lt;F1&gt;          显示帮助</code></pre>



<h2 id="supertab">SuperTab</h2>

<p>SuperTab : Do all your insert-mode completion with Tab.  <br>
<a href="http://www.vim.org/scripts/script.php?script_id=1643" target="_blank">http://www.vim.org/scripts/script.php?script_id=1643</a></p>

<p>SuperTab使用很简单，只要在输入变量名或路径名等符号中途按Tab键，就能得到以前输入过的符号列表，并通过Tab键循环选择。</p>

<p>关于补全方式参见<code>:help ins-completion</code> <br>
ctrl-n和ctrl-p 关键字补全 <br>
ctrl-x，ctrl-] 根据tag补全</p>

<p>在你的~/.vimrc文件中加上这两句:</p>



<pre class="prettyprint"><code class=" hljs 1c">let g:SuperTabDefaultCompletionType=<span class="hljs-string">"&lt;C-X&gt;&lt;C-]&gt;"</span>
<span class="hljs-string">" 设置按下&lt;Tab&gt;后默认的补全方式, 默认是&lt;C-P&gt;</span>

let g:SuperTabRetainCompletionType=<span class="hljs-number">2</span>
<span class="hljs-string">" 0 - 不记录上次的补全方式</span>
<span class="hljs-string">" 1 - 记住上次的补全方式,直到用其他的补全命令改变它</span>
<span class="hljs-string">" 2 - 记住上次的补全方式,直到按ESC退出插入模式为止</span></code></pre>



<h2 id="我的设置">我的设置</h2>

<p>公司用的vim版本是6.3，上面的插件只有marks browser只支持vim 7。 <br>
关于这几个插件我的配置是：</p>



<pre class="prettyprint"><code class=" hljs xml">" ShowMarks
let showmarks_enable = 0
let showmarks_include = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"
nmap <span class="hljs-tag">&lt;<span class="hljs-title">Leader</span>&gt;</span>md <span class="hljs-tag">&lt;<span class="hljs-title">Leader</span>&gt;</span>mh

" alternate headfile
map <span class="hljs-tag">&lt;<span class="hljs-title">silent</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-title">F11</span>&gt;</span> :A<span class="hljs-tag">&lt;<span class="hljs-title">CR</span>&gt;</span>

" Taglist
let Tlist_Show_One_File = 1
let Tlist_Exit_OnlyWindow = 1
nmap TT :TlistToggle<span class="hljs-tag">&lt;<span class="hljs-title">CR</span>&gt;</span>

" markset
map <span class="hljs-tag">&lt;<span class="hljs-title">F8</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-title">Plug</span>&gt;</span>MarkSet</code></pre>

<p>ShowMarks如果启用，启动vim时过一段时间才会高亮书签，所以默认给它关了，感觉用md删除一个书签更合理点； <br>
用F11快捷键来切换头文件，TT来打开taglist窗口； <br>
因为有了ShowMarks的快捷键，markset的<code>&lt;Leader&gt;m</code>会有一个延迟时间，所以直接用F8来高亮。</p>



<h2 id="参考">参考</h2>

<p><a href="http://blog.csdn.net/liuyuan185442111/article/details/51471093" target="_blank">http://blog.csdn.net/liuyuan185442111/article/details/51471093</a> <br>
<a href="http://blog.csdn.net/liuyuan185442111/article/details/51485803" target="_blank">http://blog.csdn.net/liuyuan185442111/article/details/51485803</a> <br>
<a href="http://easwy.com/blog/archives/advanced-vim-skills-advanced-move-method/" target="_blank">http://easwy.com/blog/archives/advanced-vim-skills-advanced-move-method/</a> <br>
<a href="http://blog.csdn.net/vaqeteart/article/details/4146618" target="_blank">http://blog.csdn.net/vaqeteart/article/details/4146618</a> <br>
<a href="http://easwy.com/blog/archives/advanced-vim-skills-omin-complete/" target="_blank">http://easwy.com/blog/archives/advanced-vim-skills-omin-complete/</a></p></div></body>
</html>