<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Java Web入门之JDBC</title>
<link rel="stylesheet" href="https://stackedit.io/res-min/themes/base.css" />
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body><div class="container"><p>JDBC：Java database connectivity。</p>

<h2 id="一个静态查询的例子">一个静态查询的例子</h2>

<pre class="prettyprint"><code class="language-java hljs "><span class="hljs-keyword">import</span> java.sql.*;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">test</span>
{</span>
    <span class="hljs-keyword">static</span> String driver = <span class="hljs-string">"com.mysql.jdbc.Driver"</span>;
    <span class="hljs-keyword">static</span> String url = <span class="hljs-string">"jdbc:mysql://10.108.27.48/thunder"</span>;
    <span class="hljs-keyword">static</span> String username = <span class="hljs-string">"thor"</span>;
    <span class="hljs-keyword">static</span> String password = <span class="hljs-string">"password"</span>;
    <span class="hljs-keyword">static</span> String sql = <span class="hljs-string">"SELECT * FROM user"</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(String[] args)
    {
        Connection conn = <span class="hljs-keyword">null</span>;
        Statement stmt = <span class="hljs-keyword">null</span>;
        ResultSet rs = <span class="hljs-keyword">null</span>;
        <span class="hljs-keyword">try</span>
        {
            Class.forName(driver);
            System.out.println(<span class="hljs-string">"驱动程序加载成功."</span>);
            conn = DriverManager.getConnection(url, username, password);
            System.out.println(<span class="hljs-string">"数据库连接成功."</span>);
            stmt = conn.createStatement();
            System.out.println(<span class="hljs-string">"语句建立成功."</span>);
            rs = stmt.executeQuery(sql);
            System.out.println(<span class="hljs-string">"获取结果成功."</span>);
            <span class="hljs-keyword">while</span> (rs.next())
            {
                String name = rs.getString(<span class="hljs-string">"username"</span>);
                System.out.println(name);
            }
        } <span class="hljs-keyword">catch</span> (Exception e)
        {
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span>
        {
            <span class="hljs-keyword">try</span>
            {
                <span class="hljs-keyword">if</span> (rs != <span class="hljs-keyword">null</span>)
                    rs.close();
                <span class="hljs-keyword">if</span> (stmt != <span class="hljs-keyword">null</span>)
                    stmt.close();
                <span class="hljs-keyword">if</span> (conn != <span class="hljs-keyword">null</span>)
                    conn.close();
            } <span class="hljs-keyword">catch</span> (Exception e)
            {
                e.printStackTrace();
            }
        }
    }
}</code></pre>



<h2 id="eclipse安装支持mysql的jdbc驱动">eclipse安装支持MySQL的JDBC驱动</h2>

<p>下载MySQL支持JDBC的驱动程序，地址为<a href="http://dev.mysql.com/downloads/connector/j/" target="_blank">http://dev.mysql.com/downloads/connector/j/</a>。 <br>
打开下载得到的压缩包（mysql-connector-java-5.1.34.zip），将其中的Java包（mysql-connector-java-5.1.34-bin.jar），复制到某个目录下，以备加载驱动程序时使用。 <br>
将下载得到的MySQL驱动程序包（mysql-connector-java-5.1.34-bin.jar）添加到工程的Build path中。菜单Project-&gt;Properties，然后选择Java Build Path选项-&gt;Libraries选项卡，选中J2EE 1.3 Libraries，然后点击右方Add External JARs按钮。</p>



<h2 id="一些说明">一些说明</h2>

<p>分三部分：不含参数的静态查询、含有参数的静态查询、获取元数据。 <br>
主要涉及四个类（或接口）：DriverManager、Connection、Statement、ResultSet。 <br>
另外，PreparedStatement是Statement的派生类，SQLException是异常类。</p>

<table>
<thead>
<tr>
  <th align="left">类</th>
  <th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
  <td align="left">DriverManager</td>
  <td align="left">负责加载各种不同驱动程序，并根据不同的请求，向调用者返回相应的数据库连接。</td>
</tr>
<tr>
  <td align="left">Connection（接口）</td>
  <td align="left">数据库连接，负责与数据库进行通信，SQL执行以及事务处理都是在某个特定Connection环境下进行的。可以产生用以执行SQL的Statement对象。</td>
</tr>
<tr>
  <td align="left">Statement（接口）</td>
  <td align="left">用来执行不含参数的静态SQL查询和更新，并返回执行结果。</td>
</tr>
<tr>
  <td align="left">ResultSet（接口）</td>
  <td align="left">用来获得SQL查询结果。</td>
</tr>
<tr>
  <td align="left">PreparedStatement（接口）</td>
  <td align="left">用来执行包含参数的动态SQL查询和更新。</td>
</tr>
<tr>
  <td align="left">SQLException</td>
  <td align="left">代表在数据库连接的建立、关闭或SQL语句的执行过程中发生了异常。</td>
</tr>
</tbody></table></div></body>
</html>