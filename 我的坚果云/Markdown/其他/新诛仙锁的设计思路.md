玩家身上有两个变量与此相关：
_haspwd 是否设有密码
_unlocked 有密码且已解锁为true，有密码且未解锁为false，无密码不关心其值

```
//为真表示无密码或密码已验证过,直接进入功能
//为假表示有密码且密码未验证,直接返回
bool verified()
{
	return _haspwd && _unlocked || !_haspwd;
}

//客户端用的老接口:在客户端看来是不是有密码
//为真表示有密码且未解锁:客户端进入仓库需要弹出密码框;用户点开诛仙锁,解锁按钮呈现可点击状态
//为假时:用户可直接进入仓库;用户点开诛仙锁,解锁按钮不可点击
bool has_password() 
{
	return _hasspwd && !_unlocked;
}

根据
A+BC = (A+B)(A+C)
verified
= _haspwd && _unlocked || !_haspwd
= !_haspwd || (_haspwd && _unlocked)
= (!_haspwd || _haspwd) && (!_haspwd || _unlocked)
= !_haspwd || _unlocked
= !(_haspwd || !_unlocked)
= !has_password
```

若登录时密码为空，_haspwd置为false，has_password为false，verified为true。
若登录时密码不为空，_haspwd置为true，_unlocked置为false，has_password为true，verified为false。验证密码后，_unlocked置为true，has_password为false，verified为true。
收到客户的解锁请求时，verified若为true，应是非法请求，不予理睬。

关于修改密码
变得有密码：与“登录时密码不为空”情况相同。
变得无密码：与“登录时密码为空”情况相同。